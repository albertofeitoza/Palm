<div class="close">
  <a (click)="fecharPopup()">
    <i class="material-icons">
      close
    </i>
  </a>
</div>
<mat-card-title>Novo Agendamento</mat-card-title>

<form class="formularioRow" >
            <mat-form-field appearance="outline" style="width: 150px;" id="txt_busca" >
                <mat-label>Protocolos</mat-label>
                <input matInput placeholder="Protocolo">
            </mat-form-field>
            
            <span (click)="buscarProtocolo('0')">
                <i class="material-icons botaoBuscaPopups" style="cursor: poiter;">search</i>
            </span>
            <p >
           <mat-form-field appearance="outline" style="width: 17%;">
                <mat-label>Nome</mat-label>
                <input matInput placeholder="Nome" id="nomePessoa"
                [(ngModel)]="pessoa.nome" name="nome" (keypress)="BuscarPessoas()">        
            </mat-form-field>
        
            <mat-form-field appearance="outline" style="width: 17%;">
                <mat-label>Responsável</mat-label>
                <input matInput placeholder="Responsável" id="resposavel"
                [(ngModel)]="pessoa.responsavel" name="responsavel" (keypress)="BuscarPessoas()">
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 9%">
                <mat-label>RG</mat-label>
                <input matInput placeholder="RG" type="number"
                [(ngModel)]="pessoa.rg" name="rg" (keypress)="BuscarPessoas()">
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 10%;">
                <mat-label>CPF</mat-label>
                <input matInput placeholder="CPF" type="number"
                [(ngModel)]="pessoa.cpf" name="cpf" (keypress)="BuscarPessoas()">
            </mat-form-field>

            <span (click)="BuscarPessoas()" style="width: 4%;">
              <i class="material-icons botaoBuscaPopups">search</i>
            </span>
         


        <div class="mat-elevation-z4" style="height: 339px;overflow: auto;">
          <span (click)="CadastrarPessoa()" style="width: 4%;">
            <i class="material-icons botaoBuscaPopups">person_add</i>
          </span>
            <table mat-table [dataSource]="pessoas" class="mat-elevation-z4 demo-table">
              <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef>Id</th>
                    <td  mat-cell *matCellDef="let row">{{row.id}}</td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="nome">
                <th mat-header-cell *matHeaderCellDef>Nome</th>
                <td mat-cell *matCellDef="let row">{{row.nome}}</td>
              </ng-container>
              
              <ng-container matColumnDef="protocolos">
                <th mat-header-cell *matHeaderCellDef>Protocolos</th>
                <td mat-cell *matCellDef="let row" (click)="buscarProtocolo(row.id)">{{row.protocolos}}</td>
              </ng-container>

              <ng-container matColumnDef="grupoAgenda">
                <th mat-header-cell *matHeaderCellDef>Tipo Agenda</th>
                <td mat-cell *matCellDef="let row">{{row.grupoAgenda}}</td>
              </ng-container>

              <ng-container matColumnDef="agendamentoFuturo">
                <th mat-header-cell *matHeaderCellDef>Agend. Futuro</th>
                <td mat-cell *matCellDef="let row" (click)="agendamentosFuturo(row.id)">{{row.agendamentoFuturo}}</td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="responsavel">
                <th mat-header-cell *matHeaderCellDef>Responsável</th>
                <td mat-cell *matCellDef="let row">{{row.responsavel}}</td>
              </ng-container>

              <ng-container matColumnDef="ura">
                <th mat-header-cell *matHeaderCellDef>Ura</th>
                <td mat-cell *matCellDef="let row">{{row.ura}}</td>
              </ng-container>
        
               <!-- Name Column -->
               <ng-container matColumnDef="cpf">
                <th mat-header-cell *matHeaderCellDef>Cpf</th>
                <td mat-cell *matCellDef="let row">{{row.cpf}}</td>
              </ng-container>
        
              <!-- Name Price -->
              <ng-container matColumnDef="rg">
                <th mat-header-cell *matHeaderCellDef>Rg</th>
                <td mat-cell *matCellDef="let row">{{row.rg}}</td>
              </ng-container>
        
              <ng-container matColumnDef="telefone">
                <th mat-header-cell *matHeaderCellDef>Telefone</th>
                <td mat-cell *matCellDef="let row">{{row.telefone}}</td>
              </ng-container>
      
              <ng-container matColumnDef="celular">
                <th mat-header-cell *matHeaderCellDef>Celular</th>
                <td mat-cell *matCellDef="let row">{{row.celular}}</td>
              </ng-container>
                    
              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef>Ações</th>
                <td mat-cell *matCellDef="let row">
                    <a (click)="EditarPessoa(row.id)"  class="edit">
                        <i class="material-icons">
                            settings
                        </i>
                    </a>
                </td>
              </ng-container>
              
              <tr mat-header-row *matHeaderRowDef="colunas"></tr>
              <tr 
                    mat-row 
                    [class.demo-row-is-clicked]=""
                    *matRowDef="let row; columns: colunas;"
                    (click)="LinhaSelecionada(row.id)"
                    [ngClass]="{'corLinhaGrid' : row.id == idSelecionado }">
              </tr>
            </table>
        </div>
</form>
        <div class="rodape">
            <button class="button" mat-raised-button color="primary" (click)="AgendarOrcar()">
                Agendar e Orçar
            </button>
            <button class="button" mat-raised-button color="primary" (click)="fecharPopup()">
                Cancelar
            </button>
       </div>

       
